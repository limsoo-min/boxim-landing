import { useEffect, useState } from "react";

const Header = ({ section }) => {
  const [isLight, setIsLight] = useState(false);

  useEffect(() => {
    switch (section) {
      case "hero":
      case "boxim":
      case "history":
      case "end":
        setIsLight(false);
        return;
      default:
        setIsLight(true);
        return;
    }
  }, [section]);

  //   console.log(isLight);

  return (
    <header className="fixed top-3 lg:top-6 left-0 right-0 z-10">
      <div className="container mx-auto px-3 lg:px-6">
        <div
          className={`px-3 lg:px-6 py-2 lg:py-4 flex items-center justify-between rounded-[12px] transform duration-150 backdrop-blur-md ${
            isLight ? "bg-[rgba(255,255,255,0.5)]" : "bg-[rgba(0,0,0,0.5)]"
          }`}
        >
          <Logo isLight={isLight} />
          <div className="flex items-center gap-1">
            <Nav
              isLight={isLight}
              href="/#hero-section"
              isActive={section === "hero"}
            >
              홈
            </Nav>
            <Nav
              isLight={isLight}
              href="/#intro-section"
              isActive={
                section === "intro" ||
                section === "concept" ||
                section === "mission" ||
                section === "why" ||
                section === "type"
              }
            >
              소개
            </Nav>
            <Nav
              isLight={isLight}
              href="/#boxim-section"
              isActive={section === "boxim" || section === "history"}
            >
              회사
            </Nav>
            <Nav
              isLight={isLight}
              href="/#review-section"
              isActive={section === "review" || section === "end"}
            >
              후기
            </Nav>
          </div>
        </div>
      </div>
    </header>
  );
};

export default Header;

const Logo = ({ isLight }) => {
  const color = isLight ? "#142433" : "white";
  return (
    <svg
      width="120"
      height="28"
      viewBox="0 0 120 28"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        className="transform duration-150"
        d="M11.5424 28C10.0407 28 9.28989 28 8.83768 27.684C8.44282 27.4082 8.17914 26.982 8.10871 26.5058C8.02806 25.9604 8.36385 25.2896 9.03542 23.9478L11.6904 18.6434C12.5341 16.9578 12.9559 16.115 13.5852 15.4993C14.1417 14.9548 14.8125 14.5407 15.5489 14.2869C16.3817 14 17.3249 14 19.2114 14H25.8296C27.3313 14 28.0822 14 28.5344 14.316C28.9293 14.5918 29.1929 15.018 29.2634 15.4942C29.344 16.0396 29.0082 16.7104 28.3367 18.0522L25.6817 23.3566C24.838 25.0422 24.4162 25.885 23.7869 26.5007C23.2303 27.0452 22.5596 27.4593 21.8232 27.7131C20.9904 28 20.0472 28 18.1607 28H11.5424Z"
        fill={color}
      />
      <path
        d="M9.35459 4.64341C10.1983 2.95783 10.6201 2.11505 11.2494 1.4993C11.806 0.954793 12.4767 0.540682 13.2131 0.286938C14.0459 0 14.9891 0 16.8756 0H23.4939C24.9956 0 25.7464 0 26.1986 0.31595C26.5935 0.591839 26.8571 1.01803 26.9276 1.49422C27.0082 2.03956 26.6724 2.71044 26.0009 4.0522L18.6744 18.6899C17.8307 20.3755 17.4089 21.2183 16.7795 21.834C16.223 22.3785 15.5523 22.7927 14.8158 23.0464C13.9831 23.3333 13.0398 23.3333 11.1534 23.3333H4.53511C3.03341 23.3333 2.28257 23.3333 1.83036 23.0174C1.43549 22.7415 1.17182 22.3153 1.10139 21.8391C1.02073 21.2938 1.35652 20.6229 2.0281 19.2811L9.35459 4.64341Z"
        fill="#64B2FF"
      />
      <path
        className="transform duration-150"
        fillRule="evenodd"
        clipRule="evenodd"
        d="M39.708 5.24999C39.708 4.92782 39.9694 4.66666 40.2919 4.66666H47.8688C48.8126 4.66666 49.6638 4.77646 50.4225 4.99607C51.1812 5.21568 51.8289 5.54509 52.3656 5.9843C52.9207 6.40522 53.3463 6.92679 53.6424 7.54901C53.9385 8.17123 54.0865 8.87581 54.0865 9.66273C54.0865 10.4131 53.9015 11.1085 53.5314 11.749C53.1798 12.3712 52.6709 12.902 52.0047 13.3412C53.0595 13.7072 53.9015 14.2653 54.5307 15.0157C55.1598 15.7477 55.4744 16.7268 55.4744 17.9529C55.4744 19.7098 54.8823 21.0457 53.6979 21.9608C52.5136 22.8758 50.8111 23.3333 48.5905 23.3333H40.2919C39.9694 23.3333 39.708 23.0722 39.708 22.75V5.24999ZM50.4085 19.2996C50.0036 19.6554 49.3504 19.8333 48.4487 19.8333H44.0876V15.75H48.4487C49.3504 15.75 50.0036 15.9279 50.4085 16.2838C50.8133 16.6396 51.0157 17.1467 51.0157 17.805C51.0157 18.4455 50.8133 18.9437 50.4085 19.2996ZM47.2894 12.25C48.1911 12.25 48.8075 12.0596 49.1388 11.6789C49.47 11.2982 49.6356 10.8032 49.6356 10.194C49.6356 9.58488 49.47 9.09945 49.1388 8.73775C48.8075 8.35702 48.1911 8.16666 47.2894 8.16666H44.0876V12.25H47.2894Z"
        fill={color}
      />
      <path
        className="transform duration-150"
        d="M89.635 9.91666C89.635 9.59449 89.8964 9.33332 90.2189 9.33332H93.4306C93.7531 9.33332 94.0145 9.59449 94.0145 9.91666V22.75C94.0145 23.0722 93.7531 23.3333 93.4306 23.3333H90.2189C89.8964 23.3333 89.635 23.0722 89.635 22.75V9.91666Z"
        fill={color}
      />
      <path
        className="transform duration-150"
        d="M89.635 5.24999C89.635 4.92782 89.8964 4.66666 90.2189 4.66666H93.4306C93.7531 4.66666 94.0145 4.92782 94.0145 5.24999V7.58332C94.0145 7.90549 93.7531 8.16666 93.4306 8.16666H90.2189C89.8964 8.16666 89.635 7.90549 89.635 7.58332V5.24999Z"
        fill={color}
      />
      <path
        className="transform duration-150"
        d="M77.1609 16.1196L72.9171 9.78725C72.7872 9.59346 72.9263 9.33332 73.1597 9.33332H76.7725C77.0666 9.33332 77.3411 9.48083 77.5033 9.72601L80 13.5013L82.4966 9.72601C82.6588 9.48083 82.9333 9.33332 83.2275 9.33332H86.8402C87.0736 9.33332 87.2127 9.59346 87.0828 9.78725L82.839 16.1196L87.5624 22.8746C87.6976 23.068 87.5591 23.3333 87.3231 23.3333H83.6612C83.3711 23.3333 83.0997 23.1898 82.9367 22.95L80 18.631L77.0632 22.95C76.9002 23.1898 76.6288 23.3333 76.3387 23.3333H72.6768C72.4408 23.3333 72.3023 23.068 72.4375 22.8746L77.1609 16.1196Z"
        fill={color}
      />
      <path
        className="transform duration-150"
        fillRule="evenodd"
        clipRule="evenodd"
        d="M61.1725 23.2847C62.1203 23.706 63.238 23.9167 64.5255 23.9167C65.8131 23.9167 66.9307 23.706 67.8785 23.2847C68.8263 22.8451 69.6132 22.2681 70.2391 21.5537C70.8828 20.8394 71.3567 20.0334 71.6607 19.1359C71.9647 18.22 72.1167 17.2858 72.1167 16.3333C72.1167 15.3808 71.9647 14.4558 71.6607 13.5583C71.3567 12.6424 70.8828 11.8273 70.2391 11.1129C69.6132 10.3985 68.8263 9.83071 67.8785 9.40941C66.9307 8.9698 65.8131 8.74999 64.5255 8.74999C63.238 8.74999 62.1203 8.9698 61.1725 9.40941C60.2247 9.83071 59.4289 10.3985 58.7851 11.1129C58.1592 11.8273 57.6943 12.6424 57.3903 13.5583C57.0863 14.4558 56.9343 15.3808 56.9343 16.3333C56.9343 17.2858 57.0863 18.22 57.3903 19.1359C57.6943 20.0334 58.1592 20.8394 58.7851 21.5537C59.4289 22.2681 60.2247 22.8451 61.1725 23.2847ZM64.5255 20.4167C65.479 20.4167 66.2484 20.0524 66.8339 19.3239C67.4361 18.5763 67.7372 17.5794 67.7372 16.3333C67.7372 15.0872 67.4361 14.0999 66.8339 13.3715C66.2484 12.6238 65.479 12.25 64.5255 12.25C63.572 12.25 62.7942 12.6238 62.192 13.3715C61.6066 14.0999 61.3138 15.0872 61.3138 16.3333C61.3138 17.5794 61.6066 18.5763 62.192 19.3239C62.7942 20.0524 63.572 20.4167 64.5255 20.4167Z"
        fill={color}
      />
      <path
        className="transform duration-150"
        d="M113.128 12.389C114.962 12.389 115.62 13.6217 115.62 15.3491V22.75C115.62 23.0722 115.882 23.3333 116.204 23.3333H119.416C119.739 23.3333 120 23.0722 120 22.75V14.9146C120 11.6308 118.346 8.74999 114.763 8.74999C112.658 8.74999 110.871 9.52557 109.72 11.3299C109.718 11.3373 109.716 11.3447 109.713 11.3521C108.896 9.79879 107.436 8.74999 105.274 8.74999C103.603 8.74999 102.133 9.23861 101.022 10.3424V9.91666C101.022 9.59449 100.76 9.33332 100.438 9.33332H97.2262C96.9037 9.33332 96.6423 9.59449 96.6423 9.91666V22.75C96.6423 23.0722 96.9037 23.3333 97.2262 23.3333H100.438C100.76 23.3333 101.022 23.0722 101.022 22.75V14.3451C101.311 13.1934 102.453 12.389 103.639 12.389C105.473 12.389 106.131 13.6217 106.131 15.3491V22.75C106.131 23.0722 106.393 23.3333 106.715 23.3333H109.927C110.25 23.3333 110.511 23.0722 110.511 22.75V14.9146C110.511 14.7426 110.506 14.5717 110.497 14.4022C110.763 13.2201 111.922 12.389 113.128 12.389Z"
        fill={color}
      />
    </svg>
  );
};

const Nav = ({ children, isActive, isLight, ...props }) => (
  <a
    className={`flex items-center justify-center px-3 py-3 text-[16px] leading-[16px] font-bold cursor-pointer rounded-[4px] ${
      isLight ? "text-gray-500" : "text-white"
    } ${isActive ? "bg-blue-500 hover:bg-blue-600 text-white" : ""}`}
    {...props}
  >
    {children}
  </a>
);
